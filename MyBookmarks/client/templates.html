<head>
  <title>MyBookmarks</title>
</head>

<body>
  {{#if currentUser}}
    {{> main}}
  {{else}}
    {{> loginButtons}}
  {{/if}}
</body>

<template name="main">
  <div class="main">
    {{#if newBookmark}}
      {{> addNote newBookmark}}
    {{else}}
      {{> addBookmarkButton}}
    {{/if}}

    {{> bookmarkList}}
  </div>
</template>

<template name="bookmarkList">
  <h3>My Bookmarks</h3>
  <ul class="bookmark-list">
    {{#each bookmarks}}
      {{> bookmarkItem}}
    {{/each}}
  </ul>
</template>

<template name="bookmarkItem">
  <li class="bookmark-item">
    <div><a target='_blank' href="{{url}}">{{title}}</a></div>
    {{#if note}}
      <div class="note">{{note}}</div>
    {{/if}}
  </li>
</template>

<template name="addBookmarkButton">
    <input type="button" class="btn btn-primary btn-block" id='newBookmark' value="Bookmark current page" />
</template>

<template name="addNote">
  <p><b>Bookmark successfully created!</b></p>
  <p>
    You can edit the title and add a note below.  <input type="button" class="btn btn-default btn-sm" id='dismiss' value="No thanks" />
  </p>

  <form name="addNote" class="add-note-form">
    <div class="form-group">
      <input class="form-control" name="title" type="text" value="{{title}}" placeholder="Title for the bookmark"/>
    </div>
    <div class="form-group">
      <textarea class="form-control" name="note" placeholder="Add a note for this bookmark..."></textarea>
    </div>
    <button id="save" type="submit" class="form-control btn btn-primary">Save</button>
  </form>

</template>
